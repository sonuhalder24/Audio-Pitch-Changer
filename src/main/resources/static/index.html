<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Pitch Shifter ‚Äî Upload MP3</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<div class="container">
    <div class="header">
        <h1>üéµ Pitch Shifter</h1>
        <p class="subtitle">Transform your audio with professional pitch shifting</p>
    </div>

    <div class="main-content">
        <form id="form" enctype="multipart/form-data" method="post">
            <div class="form-group">
                <label class="form-label" for="file">Upload Your MP3</label>
                <div class="file-input-wrapper">
                    <div class="file-input-display">
                        <div class="file-input-content">

                            <div class="file-icon">üìÅ
                                <br>
                                <input
                                    id="file"
                                    name="file"
                                    type="file"
                                    accept="audio/mpeg,audio/mp3,.mp3"
                                    required
                                    class="file-input"
                                />
                            </div>
                            <div>
                                <strong>Click to browse</strong> or drag and drop
                                <div class="helper-text">MP3 files only ‚Ä¢ Max 50MB</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Processing Mode</label>
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="radio" name="mode" value="shift" checked required />
                        <span class="radio-label">üéöÔ∏è Shift by Semitones</span>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="mode" value="note" required />
                        <span class="radio-label">üéº Target Pitch Note</span>
                    </label>
                </div>
            </div>

            <div id="shift-section" class="shift-section">
                <label class="form-label" for="semitones">Pitch Adjustment</label>
                <div class="slider-row">
                    <input
                            id="semitones"
                            name="semitones"
                            type="range"
                            min="-12"
                            max="12"
                            value="0"
                            step="1"
                            class="slider"
                    />
                    <input
                            id="semitones-number"
                            type="number"
                            min="-12"
                            max="12"
                            value="0"
                            step="1"
                            class="number-input"
                    />
                </div>
                <div class="helper-text">
                    üéµ +12 = one octave up ‚Ä¢ -12 = one octave down ‚Ä¢ 0 = original pitch
                </div>
            </div>

            <div id="note-section" class="note-section section-hidden">
                <label class="form-label" for="note">Target Pitch Note</label>
                <input
                        type="text"
                        id="note"
                        name="note"
                        class="text-input"
                        placeholder="e.g. C4, C#4, D‚ô≠4, F#5"
                        pattern="[A-Ga-g][#‚ôØ‚ô≠b]?[0-9]+"
                        title="Enter a note in scientific notation (e.g., C4, A#3, Bb5)"
                />
                <div class="helper-text">
                    üéº Enter the desired pitch in scientific notation (e.g., C4, A#3, Bb5)
                </div>
            </div>

            <div class="button-row">
                <button id="submitBtn" class="btn btn-primary" type="submit">
                    ‚ú® Process Audio
                </button>
            </div>

            <div class="progress-wrapper">
                <div class="progress">
                    <div id="progressBar" class="progress-bar" style="width: 0%;"></div>
                </div>
                <div id="progressText" class="helper-text" style="text-align: center; margin-top: 8px;"></div>
            </div>
        </form>

        <div class="output" id="output">
            <h3>üéâ Processing Complete!</h3>
            <p id="resultFilename"></p>
            <audio id="player" controls></audio>
            <div class="button-row">
                <a id="downloadLink" class="btn btn-primary" download>
                    ‚¨áÔ∏è Download File
                </a>
            </div>
        </div>
    </div>
</div>
<script src="/js/script.js"></script>
</body>
</html>
